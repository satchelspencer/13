<!DOCTYPE html>
<html>
<head>
	<title>Login</title>
	<link rel=StyleSheet type="text/css" href="button.css">
	<script type="text/javascript" src="zepto.min.js"></script>
	<script>
		$(document).ready(function() {
			var loginForm = $('#login_form');
			loginForm.submit(function(e) {
				e.preventDefault();
				$.ajax({
					type: 'POST',
					url: '/api/login',
					data: loginForm.serialize(),
					dataType: 'json',
					success: function(data, status, xhr) {
						if (data.success) {
							$('#invalid_credentials').hide();
							$('#no_connections').hide();
							window.location.replace("dashboard.html");
						} else {
							if (data.error == 1) {
								$('#invalid_credentials').show();
								$('#no_connections').hide();
							} else if (data.error == 2) {
								$('#invalid_credentials').hide();
								$('#no_connections').show();
							}
						}
					},
					error: function(xhr, errorType, error) {
						alert('Server error');
					}
				});
			});
		});
	</script>
	<style>
	h1 {text-align: center;}
	h5 {text-align: center;}
    </style>

 <!-- Thanks to http://lea.verou.me/css3patterns/   
 <style>
body {
   background-color:#269;
background-image: linear-gradient(white 2px, transparent 2px),
linear-gradient(90deg, white 2px, transparent 2px),
linear-gradient(rgba(255,255,255,.3) 1px, transparent 1px),
linear-gradient(90deg, rgba(255,255,255,.3) 1px, transparent 1px);
background-size:100px 100px, 100px 100px, 20px 20px, 20px 20px;
background-position:-2px -2px, -2px -2px, -1px -1px, -1px -1px
}
</style>
-->
</head>
<body>

	


<div style="padding-top:10%;height:300px;width:300px;margin-left:auto;margin-right:auto;">
	<form class="form-container">
	<div class="form-title" style="align-items:center;"><h1>Team 13 Login</h1>
		<div id="invalid_credentials" style="display:none;">
			<strong style="color:red">Invalid username or password</strong><br><br>
		</div>
		<div id="no_connections" style="display:none;">
			<strong style="color:red">No connections available</strong><br><br>
		</div>
		<form id="form-container" autocapitalize="none" width="280">
			<label for="username">Username (8 characters max):</label><br>
			<input size="35" type="text" name="username" id="username" autocorrect="off" maxlength="8" autofocus required><br>
			<label for="password">Password: (16 characters max):</label><br>
			<input size="35" type="password" name="password" id="password" autocorrect="off" maxlength="16" required; ><br><br>
			<input align="center" type="submit" class="button">
			
		</form>
	</div>
	
</body>
</html>


